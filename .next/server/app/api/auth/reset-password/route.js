"use strict";(()=>{var e={};e.id=436,e.ids=[436],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},14635:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>h,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>w});var s={};r.r(s),r.d(s,{POST:()=>l});var a=r(49303),o=r(88716),n=r(60670),i=r(87070),u=r(62343),p=r(84770),d=r.n(p);async function l(e){try{let{email:t}=await e.json();if(!t)return i.NextResponse.json({error:"Email is required"},{status:400});let r=await u._.user.findUnique({where:{email:t}});if(!r)return i.NextResponse.json({message:"If an account exists with that email, a password reset link has been sent."});let s=d().randomBytes(32).toString("hex"),a=d().createHash("sha256").update(s).digest("hex");return await u._.passwordResetToken.create({data:{token:a,userId:r.id,expiresAt:new Date(Date.now()+36e5)}}),i.NextResponse.json({message:"If an account exists with that email, a password reset link has been sent."})}catch(e){return console.error("Password reset error:",e),i.NextResponse.json({error:"Failed to process password reset request"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/reset-password/route",pathname:"/api/auth/reset-password",filename:"route",bundlePath:"app/api/auth/reset-password/route"},resolvedPagePath:"/Users/coleharing/Cursor_Projects/Mold_detox_2/app/api/auth/reset-password/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:w,serverHooks:x}=c,m="/api/auth/reset-password/route";function g(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:w})}},62343:(e,t,r)=>{r.d(t,{_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma??new s.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,972],()=>r(14635));module.exports=s})();