(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{2047:function(e,t,r){Promise.resolve().then(r.bind(r,6737))},6737:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n,s=r(7437),i=r(2265),a=r(9376),o="basil",c="https://js.stripe.com",l="".concat(c,"/").concat(o,"/stripe.js"),u=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,m=function(){for(var e=document.querySelectorAll('script[src^="'.concat(c,'"]')),t=0;t<e.length;t++){var r,n=e[t];if(r=n.src,u.test(r)||d.test(r))return n}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(l).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},h=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:t})},f=null,x=null,v=null,y=function(e,t,r){if(null===e)return null;var n,s=t[0].match(/^pk_test/),i=3===(n=e.version)?"v3":n;s&&i!==o&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var a=e.apply(void 0,t);return h(a,r),a},g=!1,b=function(){return n||(n=(null!==f?f:(f=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,n=m();n?n&&null!==v&&null!==x&&(n.removeEventListener("load",v),n.removeEventListener("error",x),null===(r=n.parentNode)||void 0===r||r.removeChild(n),n=p(null)):n=p(null),v=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},x=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},n.addEventListener("load",v),n.addEventListener("error",x)}catch(e){t(e);return}})).catch(function(e){return f=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)}))};Promise.resolve().then(function(){return b()}).catch(function(e){g||console.warn(e)});var j=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];g=!0;var n=Date.now();return b().then(function(e){return y(e,t,n)})},w=r(257);let N={publishableKey:"pk_test_YOUR_TEST_KEY",secretKey:w.env.STRIPE_SECRET_KEY,webhookSecret:w.env.STRIPE_WEBHOOK_SECRET,prices:{core:{oneTime:19900,discounted:14900},plus:{monthly:5900,annual:4700},vip:{oneTime:99700}},priceIds:{core:{oneTime:w.env.STRIPE_PRICE_CORE_ONETIME||"",discounted:w.env.STRIPE_PRICE_CORE_DISCOUNTED||""},plus:{monthly:w.env.STRIPE_PRICE_PLUS_MONTHLY||"",annual:w.env.STRIPE_PRICE_PLUS_ANNUAL||""},vip:{oneTime:w.env.STRIPE_PRICE_VIP_ONETIME||""}},products:{core:{name:"Mold Detox Mastery - Core",description:"Complete mold recovery program with all 10 modules and 9 interactive tools",features:["All 10 educational modules","9 interactive recovery tools","Downloadable resources & PDFs","Progress tracking dashboard","Mobile app access","1 year of content updates","Email support (48hr response)"]},plus:{name:"Mold Detox Mastery - Plus",description:"Core + community support & advanced features",features:["Everything in Core","Community forum access","Monthly live Q&A sessions","Advanced practitioner tools","Priority email support (24hr)","Lifetime content updates","20% consultation discount"]},vip:{name:"Mold Detox Mastery - VIP",description:"Premium package with 1-on-1 support",features:["Everything in Plus","3 x 1-on-1 consultations","Personalized protocol review","Direct messaging access","Custom supplement recommendations","Priority support"]}}},E=null,P=()=>(E||(E=j(N.publishableKey)),E);var T=r(2869),S=r(6070),_=r(2660),C=r(401),k=r(1817),I=r(8906),R=r(7648);function O(){let e=(0,a.useSearchParams)(),[t,r]=(0,i.useState)(!1),[n,o]=(0,i.useState)(null),c=e.get("plan")||"core",l=e.get("billing")||"onetime",u=(()=>{let e=N.products;return e[c]||e.core})(),d="core"===c?"annual"===l?N.priceIds.core.discounted:N.priceIds.core.oneTime:"plus"===c?"annual"===l?N.priceIds.plus.annual:N.priceIds.plus.monthly:"vip"===c?N.priceIds.vip.oneTime:"",m="core"===c?"annual"===l?"$149":"$199":"plus"===c?"annual"===l?"$47/month":"$59/month":"vip"===c?"$997":"$199",p=async()=>{r(!0),o(null);try{let e=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:d,planType:c,billingPeriod:l})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create checkout session")}let{sessionId:t}=await e.json(),r=await P(),{error:n}=await r.redirectToCheckout({sessionId:t});if(n)throw Error(n.message)}catch(e){o(e.message),r(!1)}};return(0,i.useEffect)(()=>{},[d]),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(R.default,{href:"/pricing",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-8",children:[(0,s.jsx)(_.Z,{className:"mr-2 h-4 w-4"}),"Back to pricing"]}),(0,s.jsxs)("div",{className:"grid gap-8 lg:grid-cols-3",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(S.Zb,{children:[(0,s.jsxs)(S.Ol,{children:[(0,s.jsx)(S.ll,{children:"Order Summary"}),(0,s.jsx)(S.SZ,{children:"Review your selection before proceeding to payment"})]}),(0,s.jsxs)(S.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-2",children:u.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:u.description}),(0,s.jsx)("div",{className:"space-y-2",children:u.features.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(C.Z,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e})]},t))})]}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Plan"}),(0,s.jsx)("span",{className:"font-medium capitalize",children:c})]}),"plus"===c&&(0,s.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Billing"}),(0,s.jsx)("span",{className:"font-medium capitalize",children:"annual"===l?"Annual (Save 20%)":"Monthly"})]})]}),n&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:n})})]})]})}),(0,s.jsxs)("div",{className:"lg:col-span-1",children:[(0,s.jsxs)(S.Zb,{children:[(0,s.jsx)(S.Ol,{children:(0,s.jsx)(S.ll,{children:"Payment Details"})}),(0,s.jsxs)(S.aY,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:m}),"plus"===c&&"annual"===l&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Billed annually at $",564]}),"core"===c&&"annual"===l&&(0,s.jsx)("p",{className:"text-sm text-green-600 mb-4",children:"You save $50 with annual billing!"}),(0,s.jsx)(T.z,{onClick:p,disabled:t||!d,className:"w-full",size:"lg",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Proceed to Payment"}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,s.jsx)(I.Z,{className:"mr-2 h-4 w-4 text-gray-400"}),"Secure payment via Stripe"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"30-day money-back guarantee"})]})]})]}),!1]})]})]})})}function Z(){return(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)(k.Z,{className:"h-8 w-8 animate-spin text-gray-500"})}),children:(0,s.jsx)(O,{})})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),s=r(4508),i=r(2265);let a={primary:"bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-600",secondary:"bg-secondary-600 text-white hover:bg-secondary-700 focus-visible:ring-secondary-600",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus-visible:ring-gray-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus-visible:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-600"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},c=(0,i.forwardRef)((e,t)=>{let{children:r,className:i,variant:c="primary",size:l="md",fullWidth:u=!1,loading:d=!1,disabled:m,...p}=e;return(0,n.jsxs)("button",{ref:t,className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",a[c],o[l],u&&"w-full",i),disabled:m||d,...p,children:[d&&(0,n.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})});c.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return u},Zb:function(){return o},aY:function(){return d},eW:function(){return m},ll:function(){return l}});var n=r(7437),s=r(4508);let i={default:"bg-white",bordered:"bg-white border border-gray-200",elevated:"bg-white shadow-lg"},a={none:"",sm:"p-4",md:"p-6",lg:"p-8"};function o(e){let{children:t,className:r,variant:o="bordered",padding:c="md"}=e;return(0,n.jsx)("div",{className:(0,s.cn)("rounded-lg",i[o],a[c],r),children:t})}function c(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,s.cn)("border-b border-gray-200 pb-4",r),children:t})}function l(e){let{children:t,className:r}=e;return(0,n.jsx)("h3",{className:(0,s.cn)("text-lg font-semibold text-gray-900",r),children:t})}function u(e){let{children:t,className:r}=e;return(0,n.jsx)("p",{className:(0,s.cn)("mt-1 text-sm text-gray-600",r),children:t})}function d(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,s.cn)("pt-4",r),children:t})}function m(e){let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,s.cn)("mt-4 border-t border-gray-200 pt-4",r),children:t})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(334),s=r(2997);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},257:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&m())}function m(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||o(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var s=n(229);e.exports=s}()}},function(e){e.O(0,[216,184,971,117,744],function(){return e(e.s=2047)}),_N_E=e.O()}]);